{#
/**
 * @file
 * Theme override for Services view row.
 */
#}

{% if fields.field_lien.content %}
  {% set url = fields.field_lien.content|striptags|trim %}
{% elseif fields.nid.content %}
  {% set url = path('entity.node.canonical', {'node': fields.nid.content|striptags|trim}) %}
{% else %}
  {% set url = '#' %}
{% endif %}

<a href="{{ fields.field_service_external_link.content|striptags|trim }}" class="text-decoration-none d-block h-100">
  <div class="service-card card h-100">
    <div class="card-body d-flex flex-column">
      {# Icon + Title #}
      <div class="mb-2">
        {% if fields.field_service_icon.content %}
          <div class="mb-2 service-icon">
            {{ fields.field_service_icon.content }}
          </div>
        {% endif %}

        {% if fields.title.content %}
          <h6 class="mb-0 fw-bold">
            {{ fields.title.content }}
          </h6>
        {% endif %}
      </div>

      {# Description #}
      {% if fields.field_service_desc.content %}
        <p class="mb-0 text-muted lh-base small mb-3">
          {{ fields.field_service_desc.content }}
        </p>
      {% endif %}

      <div class="d-flex justify-content-end mt-auto">
        <i class="fa-solid fa-up-right-from-square text-primary"></i>
      </div>
    </div>
  </div>
</a>
