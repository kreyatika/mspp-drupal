{#
/**
 * @file
 * Template for the Services page.
 */
#}
<div class="container">
  <div class="row g-5">

    <div class="col-sm-3 border-right-column">
      {{ form }}
    </div>

    <div class="col-sm-9">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

        {% if services is empty %}
          <div class="col-12">
            <div class="alert alert-info">
              {{ 'Aucun service disponible pour le moment.'|t }}
            </div>
          </div>
        {% else %}
          {% for service in services %}
            {% if service.field_lien %}
              {% set url = service.field_lien %}
            {% else %}
              {% set url = path('entity.node.canonical', {'node': service.nid}) %}
            {% endif %}

            <div class="col">
              <a href="{{ url }}" class="text-decoration-none">
                <div class="service-card card">
                  <div
                      class="card-body d-flex flex-column h-100">
                      {# Icon + Title #}
                      <div class="mb-2">
                          {% if service.field_service_icon.content %}
                              <div class="mb-2 service-icon">
                                  {{ service.field_service_icon.content }}
                              </div>
                          {% endif %}

                          {% if service.title %}
                              <h6 class="mb-0 fw-bold">
                                  {{ service.title }}
                              </h6>
                          {% endif %}
                      </div>

                      {# Description #}
                      {% if service.field_service_desc.content %}
                          <p class="mb-0 text-muted lh-base small mb-3">
                              {{ service.field_service_desc.content|striptags|trim }}
                          </p>
                      {% endif %}

                      <div class="d-flex justify-content-end mt-auto">
                          <i class="fa-solid fa-up-right-from-square"></i>
                      </div>
                  </div>
              </div>
              </a>
            </div>
          {% endfor %}
        {% endif %}

      </div>
    </div>

  </div>
</div>